C51 COMPILER V9.00   MAIN                                                                  04/10/2015 17:00:29 PAGE 1   


C51 COMPILER V9.00, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\output\main.obj
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE main\main.c LARGE BROWSE INCDIR(.\main;.\eeprom;.\oled;.\uart;.\74hc595;.\c
                    -d4052;.\isr;.\Key) DEBUG OBJECTEXTEND PRINT(.\list\main.lst) OBJECT(.\output\main.obj)

line level    source

   1          #include "main.h"
   2          #include "uart.h"
   3          #include "oled.h"
   4          #include "24c02.h"
   5          #include "cd4052.h"
   6          #include "isr.h"
   7          /*********************************************************************/
   8          #define PRINT_AUTHOR_INFO          //打印作者信息
   9          #define SHOW_LOGO                          //显示屏显示logo
  10          /*********************************************************************///宏开关，控制以上功能选项
  11          u32 AddNo;    //割码地址值 
  12          #ifdef PRINT_AUTHOR_INFO
  13          void printInfo(void)
  14          {
  15   1         send_string ("=======================================================\n");
  16   1         send_string ("********************* Burn Code X *********************\n");
  17   1         send_string ("*                                                     *\n");
  18   1         send_string ("*    Version: SDK1.00.00(11:20:16 Apr 2  2015)        *\n");
  19   1         send_string ("*     Author: Liaokeyre<Liaokeyre@foxmail.com>        *\n");
  20   1         send_string ("*  Author: Cherry@ycsemi.com.cn @yancheng company     *\n");
  21   1         send_string ("*                                                     *\n");
  22   1         send_string ("*******************************************************\n"); 
  23   1         send_string ("=======================================================\n");
  24   1         send_string ("\n\n\nSystem Loading...\n");
  25   1         send_string ("\n\n\nSystem Load Ok!\n");
  26   1      }
  27          #endif
  28          
  29          void initAddNo(void)     //判断地址值是否正常
  30          {
  31   1        u32 tmp;
  32   1        at24c02_rddat(0x10,(u8*)&tmp,4);
  33   1        if((tmp == 0xffffffff)||((tmp > 0xfffff))) //初始状态 || 累加溢出？
  34   1        {
  35   2         AddNo = 0;
  36   2         at24c02_wrdat(0x10,(u8*)&AddNo,4);
  37   2        }
  38   1      }
  39          void oledInit(void)
  40          {
  41   1              OLED_Init();  //初始化OLED  
  42   1              OLED_Clear(); 
  43   1              /*
  44   1          OLED_ShowFont16(0,10,0,1);
  45   1              OLED_ShowFont16(16,10,1,1);
  46   1              OLED_ShowFont16(32,10,2,1);
  47   1              OLED_ShowFont16(48,10,3,1);
  48   1              OLED_ShowFont16(64,10,4,1);
  49   1              OLED_ShowFont16(80,10,5,1);
  50   1              OLED_ShowFont16(96,10,6,1);
  51   1              OLED_ShowFont16(112,10,7,1);
  52   1              */
  53   1      #ifdef SHOW_LOGO
  54   1              OLED_DrawBMP(0,0);                      // show logo
C51 COMPILER V9.00   MAIN                                                                  04/10/2015 17:00:29 PAGE 2   

  55   1      #endif
  56   1              OLED_Refresh_Gram();
  57   1      }
  58          
  59          void ioInit(void)
  60          {
  61   1      
  62   1      }
  63          
  64          void sysInit(void)
  65          {
  66   1        ioInit();
  67   1        UartInit();
  68   1        oledInit();
  69   1        timerInit();
  70   1      }
  71          
  72          void main(void)
  73          {
  74   1          sysInit();
  75   1      #ifdef PRINT_AUTHOR_INFO
  76   1              printInfo();
  77   1      #endif
  78   1      ////////////////////////////////////////////////////////////////////////////
  79   1          P2M1 =0x04;
  80   1              P2M1 = 0;
  81   1      ////////////////////////////////////////////////////////////////////////////TEST
  82   1          EA = 1;
  83   1              while(1)
  84   1              {
  85   2                TestPn();
  86   2              }
  87   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    240    ----
   CONSTANT SIZE    =    441    ----
   XDATA SIZE       =      4       4
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)

#include "main.h"
#include "_595.h"


void init595(void)
{
   DSENABLE595();
   DS_595 = 0;
   ST_595 = 0;
   SH_595 = 0;
}
/*********************************************************
功能：写595一个字节
说明：
*********************************************************/
void write595(u8 dat)
{
	u8 i;
	for(i=0;i<8; i++)
	{
	 DS_595 = (dat & 0x80);                  
	 SH_595 = 0;
	 SH_595 = 1;
	 dat <<= 1;
	} 
}

/*********************************************************
功能：锁存多个字节到595
说明：*dat 数据首地址  count 数据位数
*********************************************************/
void storge595(void *dat ,u8 count)
{
   ST_595 = 0;
   while(count--)
   {
   	 write595(*(u8*)dat );
	 ((u8*)dat)++;
   }
   ST_595 = 1;
}

